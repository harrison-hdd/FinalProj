(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5728:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return i(734)}])},734:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return f}});var l=i(5893),n=i(7294),a=i(3148),s=i(9802);i(3364);var r=function(){let e=(0,s.eI)("https://kdudsmiowdskjrevrqxb.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtkdWRzbWlvd2Rza2pyZXZycXhiIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY4MDIxMzgwNSwiZXhwIjoxOTk1Nzg5ODA1fQ.iuCO4guJGvmsqM5r9rbvekotVEtpG7u8N6sqIC8-aFM"),t=(0,n.useRef)(null);a.kL.register(...a.zX);let i={blue:{default:"rgb(76,147,233)",half:"rgba(76,147,233, 0.5)",quarter:"rgba(76,147,233, 0.25)",zero:"rgba(76,147,233, 0)"},orange:{default:"rgb(187,106,18)",quarter:"rgba(187,106,18, 0.25)"},green:{default:"rgb(17,140,6)",quarter:"rgb(17,140,6, 0.25)"}},[r,o]=(0,n.useState)([]),[d,c]=(0,n.useState)([]),[u,m]=(0,n.useState)([]),[h,g]=(0,n.useState)([]);return(0,n.useEffect)(()=>{let l=t.current.getContext("2d"),n=async()=>{let{data:t,error:n}=await e.from("soil_data").select().eq("robot_id",1).order("created_at",{ascending:!1}).limit(10);for(let e=0;e<t.length;++e)r.push(t[e].moisture),d.push(t[e].humidity),u.push(t[e].temperature);o(r),c(d),m(u);let s={labels:["Week 1","Week 2","Week 3","Week 4","Week 5","Week 6","Week 7","Week 8","Week 9","Week 10"],datasets:[{label:"Moisture",data:r,fill:!1,borderWidth:2,borderColor:i.blue.default,lineTension:.2,pointRadius:3},{label:"Humidity",data:d,fill:!1,borderWidth:2,borderColor:i.green.default,lineTension:.2,pointRadius:3},{label:"Temperature",data:u,fill:!1,borderWidth:2,borderColor:i.orange.default,lineTension:.2,pointRadius:3}]},h=new a.kL(l,{type:"line",data:s,options:{scales:{y:{min:-40,max:120}}}});return function(){h.destroy()}};return n()}),(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"p-4 flex-auto shadow-lg rounded bg-blueGray-700",children:(0,l.jsxs)("div",{className:"h-[28rem]",children:[(0,l.jsx)("span",{children:"Sensor data"}),(0,l.jsx)("canvas",{id:"myChart",ref:t})]})})})},o=i(7054);let d=[{id:1,name:"Chicago, Illinois",position:{lat:41.881832,lng:-87.623177}},{id:2,name:"Denver, Colorado",position:{lat:39.739235,lng:-104.99025}},{id:3,name:"Los Angeles, California",position:{lat:34.052235,lng:-118.243683}},{id:4,name:"New York, New York",position:{lat:40.712776,lng:-74.005974}}],c=()=>{let[e,t]=(0,n.useState)(null),i=i=>{i!==e&&t(i)},a=e=>{let t=new google.maps.LatLngBounds;d.forEach(e=>{let{position:i}=e;return t.extend(i)}),e.fitBounds(t)};return(0,l.jsx)(o.KJ,{googleMapsApiKey:"AIzaSyBV3_HucP2MxllmOM9FbUf2CKm6bB6013o",children:(0,l.jsx)(o.b6,{mapContainerClassName:"h-full w-full",onLoad:a,onClick:()=>t(null),zoom:10,children:d.map(n=>{let{id:a,name:s,position:r}=n;return(0,l.jsx)(o.jC,{position:r,onClick:()=>i(a),children:e===a?(0,l.jsx)(o.kp,{onCloseClick:()=>t(null),children:(0,l.jsx)("div",{children:s})}):null},a)})})})};var u=n.memo(c),m=i(1664),h=i.n(m);let g=()=>(0,l.jsx)("header",{className:"bg-indigo-600 py-5",children:(0,l.jsx)("div",{className:"container mx-auto px-2",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("div",{children:(0,l.jsx)(h(),{href:"/",className:"font-bold text-3xl text-white underline capitalize",children:"logo"})}),(0,l.jsx)("div",{children:(0,l.jsx)(h(),{href:"/login",className:"bg-transparent capitalize text-3xl font-semibold text-white",children:"logout"})})]})})}),p=[{title:"front"},{title:"back"},{title:"right"},{title:"left"},{title:"go down"},{title:"go up"},{title:"get moisture"},{title:"give water"},{title:"give fertilizer"},{title:"give weed killer"}],x=()=>{let e=(0,s.eI)("https://kdudsmiowdskjrevrqxb.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtkdWRzbWlvd2Rza2pyZXZycXhiIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY4MDIxMzgwNSwiZXhwIjoxOTk1Nzg5ODA1fQ.iuCO4guJGvmsqM5r9rbvekotVEtpG7u8N6sqIC8-aFM"),t=()=>"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)),i=async i=>{Date.now();let{data:l,err:n}=await e.from("commands").insert([{id:t(),command:i}]);console.log(n),console.log(l)};return(0,l.jsxs)("div",{className:"shadow-lg rounded px-5 py-7 mt-12",children:[(0,l.jsx)("h2",{className:"text-lg",children:"Control Panel"}),(0,l.jsx)("div",{className:"flex items-center gap-2 w-full mt-5",children:p.map((e,t)=>(0,l.jsx)("button",{type:"button",onClick:()=>i(e.title),className:"bg-indigo-600 py-1 px-4 rounded-md text-white hover:bg-indigo-500 duration-300 capitalize",children:e.title},t))})]})};function f(){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(g,{}),(0,l.jsxs)("main",{className:"container mx-auto px-5 pt-10 pb-10",children:[(0,l.jsxs)("div",{className:"grid grid-cols-5 gap-20",children:[(0,l.jsx)("div",{className:"col-span-2",children:(0,l.jsx)(u,{})}),(0,l.jsx)("div",{className:"col-span-3",children:(0,l.jsx)(r,{})})]}),(0,l.jsx)(x,{})]})]})}}},function(e){e.O(0,[196,255,229,774,888,179],function(){return e(e.s=5728)}),_N_E=e.O()}]);